(function(){"use strict";var t={566:function(t,o,e){var r=e(369),a=function(){var t=this,o=t._self._c;return o("b-container",{staticClass:"my-2",attrs:{id:"app"}},[o("b-navbar",{attrs:{type:"dark",variant:"primary"}},[o("b-navbar-nav",[o("b-navbar-brand",{attrs:{to:"/"}},[o("fa-icon",{attrs:{icon:"fa-solid fa-cat"}}),o("span",[t._v("Kitty Kibbles")])],1)],1)],1),o("router-view")],1)},n=[],i=e(1),s={},d=(0,i.Z)(s,a,n,!1,null,null,null),c=d.exports,l=e(631),u=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("FoodPage")},f=[],m=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("b-container",[o("b-col",{staticClass:"mt-3",attrs:{align:"center"}},[o("b-button",{attrs:{variant:"secondary",size:"lg"},on:{click:function(o){return t.showFoodForm()}}},[o("span",[t._v("Add New Food")]),t._v("  "),o("fa-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)],1),o("b-row",{attrs:{cols:"1","cols-sm":"2","cols-lg":"3","align-h":"center"}},t._l(t.getFoodStock.values(),(function(t){return o("b-col",{key:t.id,staticClass:"my-3"},[o("FoodPageItem",{attrs:{"display-food":t}})],1)})),1),o("FoodPageForm",{on:{"done-form":function(o){return t.$forceUpdate()}}})],1)},p=[],b=e(822);const h="foodStock";var v={namespaced:!0,state:()=>({foodStock:new Map}),getters:{foodStock:t=>()=>t.foodStock},mutations:{setFoodStock(t,o){t.foodStock=o},addFood(t,o){t.foodStock.set(o.key,o.value)},removeFood(t,o){t.foodStock.delete(o)}},actions:{init(t){const o=localStorage.getItem(h);null!==o&&t.commit("setFoodStock",new Map(JSON.parse(o)))},addFood(t,o){let e=!1;return t.state.foodStock.has(o.id)||(t.commit("addFood",{key:o.id,value:o}),t.dispatch("updateLocalStorageFoodStock",{key:h,value:t.state.foodStock}),e=!0),e},removeFood(t,o){let e=!1;return t.state.foodStock.has(o)&&(t.commit("removeFood",o),t.dispatch("updateLocalStorageFoodStock",{key:h,value:t.state.foodStock}),e=!0),e},incrementStock(t,o){const e=t.state.foodStock.get(o.id);void 0!==e&&(e.count=Number(e.count)+Number(o.add)),t.dispatch("updateLocalStorageFoodStock",{key:h,value:t.state.foodStock})},decrementStock(t,o){const e=t.state.foodStock.get(o.id);void 0!==e&&(e.count=Number(e.count)-Number(o.sub)),t.dispatch("updateLocalStorageFoodStock",{key:h,value:t.state.foodStock})},updateLocalStorageFoodStock(t){localStorage.setItem(h,JSON.stringify([...t.state.foodStock]))}}};r["default"].use(b.ZP);var S=new b.ZP.Store({modules:{foods:v}}),k=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("b-modal",{attrs:{id:"formModal",title:"Add New Food"},scopedSlots:t._u([{key:"modal-footer",fn:function({ok:e}){return[o("b-button",{attrs:{variant:"secondary",disabled:!t.state},on:{click:function(o){t.submitForm(),e()}}},[t._v("Submit")])]}}])},[o("b-form",[o("b-form-group",{attrs:{label:"Brand"}},[o("b-form-input",{attrs:{type:"text",placeholder:"Purina"},model:{value:t.formBrand,callback:function(o){t.formBrand=o},expression:"formBrand"}})],1),o("b-form-group",{attrs:{label:"Name"}},[o("b-form-input",{attrs:{type:"text",placeholder:"Chicken & Liver"},model:{value:t.formName,callback:function(o){t.formName=o},expression:"formName"}})],1),o("b-form-group",{attrs:{label:"Size"}},[o("b-form-input",{attrs:{type:"text",placeholder:"Small Can"},model:{value:t.formSize,callback:function(o){t.formSize=o},expression:"formSize"}})],1),o("b-form-group",{attrs:{label:"Available"}},[o("b-form-input",{attrs:{type:"number",min:"0"},model:{value:t.formCount,callback:function(o){t.formCount=o},expression:"formCount"}})],1)],1)],1)},g=[];class y{id;brand;name;size;count;constructor(t="Brand",o="Name",e="Size",r=0){this.id=`${t}.${o}`,this.brand=t,this.name=o,this.size=e,this.count=r}}var F=r["default"].extend({name:"FoodPageForm",data(){return{formBrand:"",formName:"",formSize:"",formCount:0}},computed:{brandState(){return null!==this.formBrand&&""!==this.formBrand},nameState(){return null!==this.formName&&""!==this.formName},sizeState(){return null!==this.formSize&&""!==this.formSize},state(){return this.brandState&&this.nameState&&this.sizeState}},methods:{show(){this.$bvModal.show("formModal")},submitForm(){S.dispatch("foods/addFood",new y(this.formBrand,this.formName,this.formSize,this.formCount)),this.clearForm(),this.$emit("done-form")},clearForm(){this.formBrand="",this.formName="",this.formSize="",this.formCount=0}}}),_=F,w=(0,i.Z)(_,k,g,!1,null,null,null),x=w.exports,P=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("b-container",[o("b-card",{staticClass:"card",attrs:{header:t.food.brand+" – "+t.food.name,"header-text-variant":"light","header-bg-variant":"primary","header-border-variant":"primary","border-variant":"primary"}},[o("b-row",{staticClass:"text-center",attrs:{"align-h":"between"}},[o("b-button",{attrs:{variant:"danger",disabled:t.food.count<=0},on:{click:function(o){return t.decrementStock()}}},[o("fa-icon",{attrs:{icon:"fa-solid fa-minus"}})],1),o("b-row",{staticClass:"flex-column"},[o("b-col",{attrs:{"align-self":"center"}},[o("span",[t._v(t._s(t.food.size))])]),o("b-col",{attrs:{"align-self":"center"}},[o("span",[t._v(t._s(t.food.count+" remaining"))])])],1),o("b-button",{attrs:{variant:"success"},on:{click:function(o){return t.incrementStock()}}},[o("fa-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)],1)],1)],1)},N=[],z=r["default"].extend({name:"FoodPageItem",props:{displayFood:y},computed:{food(){return this.displayFood}},methods:{incrementStock(){S.dispatch("foods/incrementStock",{id:this.food.id,add:1}),this.$forceUpdate()},decrementStock(){S.dispatch("foods/decrementStock",{id:this.food.id,sub:1}),this.$forceUpdate()}}}),C=z,O=(0,i.Z)(C,P,N,!1,null,null,null),B=O.exports,Z=r["default"].extend({name:"FoodPage",components:{FoodPageForm:x,FoodPageItem:B},mounted(){S.dispatch("foods/init")},computed:{getFoodStock(){return S.state.foods.foodStock}},methods:{showFoodForm(){this.$bvModal.show("formModal")}}}),M=Z,$=(0,i.Z)(M,m,p,!1,null,null,null),j=$.exports,I=r["default"].extend({name:"FoodView",components:{FoodPage:j}}),L=I,T=(0,i.Z)(L,u,f,!1,null,null,null),A=T.exports;r["default"].use(l.ZP);const K=[{path:"/",name:"food",component:A}],U=new l.ZP({mode:"history",base:"/kitty-kibbles/",routes:K});var J=U,V=e(882),E=(e(24),e(749)),G=e(494),q=e(539);r["default"].config.productionTip=!1,r["default"].use(V.ZPm),r["default"].component("fa-icon",E.GN),G.vI.add(q.thV,q.r8p,q.Kl4),new r["default"]({router:J,store:S,render:t=>t(c)}).$mount("#app")}},o={};function e(r){var a=o[r];if(void 0!==a)return a.exports;var n=o[r]={exports:{}};return t[r](n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(o,r,a,n){if(!r){var i=1/0;for(l=0;l<t.length;l++){r=t[l][0],a=t[l][1],n=t[l][2];for(var s=!0,d=0;d<r.length;d++)(!1&n||i>=n)&&Object.keys(e.O).every((function(t){return e.O[t](r[d])}))?r.splice(d--,1):(s=!1,n<i&&(i=n));if(s){t.splice(l--,1);var c=a();void 0!==c&&(o=c)}}return o}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[r,a,n]}}(),function(){e.d=function(t,o){for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,r){var a,n,i=r[0],s=r[1],d=r[2],c=0;if(i.some((function(o){return 0!==t[o]}))){for(a in s)e.o(s,a)&&(e.m[a]=s[a]);if(d)var l=d(e)}for(o&&o(r);c<i.length;c++)n=i[c],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(l)},r=self["webpackChunkkitty_kibbles"]=self["webpackChunkkitty_kibbles"]||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(566)}));r=e.O(r)})();
//# sourceMappingURL=app.dc53a5ba.js.map