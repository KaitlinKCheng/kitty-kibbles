(function(){"use strict";var t={879:function(t,o,e){var r=e(369),a=function(){var t=this,o=t._self._c;return o("b-container",{staticClass:"my-2",attrs:{id:"app"}},[o("b-navbar",{attrs:{type:"dark",variant:"primary"}},[o("b-navbar-nav",[o("b-navbar-brand",{attrs:{to:"/"}},[o("fa-icon",{attrs:{icon:"fa-solid fa-cat"}}),o("span",[t._v("Kitty Kibbles")])],1)],1)],1),o("router-view")],1)},n=[],i=e(1),d={},s=(0,i.Z)(d,a,n,!1,null,null,null),c=s.exports,l=e(631),u=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("FoodPage")},f=[],m=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("b-container",[o("b-col",{staticClass:"mt-3",attrs:{align:"center"}},[o("b-button",{attrs:{variant:"secondary",size:"lg"},on:{click:function(o){t.editing=!1,t.showFoodForm()}}},[o("span",[t._v("Add New Food")]),t._v("  "),o("fa-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)],1),o("b-row",{attrs:{cols:"1","cols-sm":"2","cols-lg":"3","align-h":"center"}},t._l(t.getFoodStock.values(),(function(e){return o("b-col",{key:e.id+e.brand+e.name+e.size+e.count,staticClass:"my-3"},[o("FoodPageItem",{attrs:{"display-food":e},on:{"edit-food":function(o){return t.editFood(e)},"delete-food":function(o){return t.deleteFood(e)}}})],1)})),1),o("FoodPageForm",{attrs:{"food-item":t.currentFood,editing:t.editing},on:{"done-form":function(o){t.$forceUpdate(),t.editing=!1}}})],1)},b=[],p=e(822);const h="-1",S="foodStock",v="nextFoodId";var k={namespaced:!0,state:()=>({foodStock:new Map,nextFoodId:0}),getters:{foodStock:t=>()=>t.foodStock},mutations:{setFoodStock(t,o){t.foodStock=o},setNextFoodId(t,o){t.nextFoodId=o},addFood(t,o){t.foodStock.set(o.key,o.value)},removeFood(t,o){t.foodStock.delete(o)}},actions:{init(t){const o=localStorage.getItem(S);null!==o&&t.commit("setFoodStock",new Map(JSON.parse(o)));const e=localStorage.getItem(v);null!==e&&t.commit("setNextFoodId",JSON.parse(e))},addFood(t,o){let e=!1;return o.id===h&&(o.id=t.state.nextFoodId.toString(),t.state.nextFoodId++,t.dispatch("updateLocalStorageFoodId")),t.state.foodStock.has(o.id)||(t.commit("addFood",{key:o.id,value:o}),t.dispatch("updateLocalStorageFoodStock"),e=!0),e},updateFood(t,o){let e=!1;return t.state.foodStock.has(o.id)&&(t.commit("addFood",{key:o.id,value:o}),t.dispatch("updateLocalStorageFoodStock"),e=!0),e},removeFood(t,o){let e=!1;return t.state.foodStock.has(o)&&(t.commit("removeFood",o),t.dispatch("updateLocalStorageFoodStock"),e=!0),e},incrementStock(t,o){const e=t.state.foodStock.get(o.id);void 0!==e&&(e.count=Number(e.count)+Number(o.add)),t.dispatch("updateLocalStorageFoodStock")},decrementStock(t,o){const e=t.state.foodStock.get(o.id);void 0!==e&&(e.count=Number(e.count)-Number(o.sub)),t.dispatch("updateLocalStorageFoodStock")},updateLocalStorageFoodStock(t){localStorage.setItem(S,JSON.stringify([...t.state.foodStock]))},updateLocalStorageFoodId(t){localStorage.setItem(v,JSON.stringify(t.state.nextFoodId))}}};r["default"].use(p.ZP);var g=new p.ZP.Store({modules:{foods:k}});class F{id;brand;name;size;count;constructor(t=h,o="Brand",e="Name",r="Size",a=0){this.id=t,this.brand=o,this.name=e,this.size=r,this.count=a}}var y=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("b-modal",{attrs:{id:"formModal",title:t.editing?"Edit Food":"Add New Food"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[o("b-button",{attrs:{variant:"secondary"},on:{click:function(o){return t.submitForm()}}},[t._v("Submit")])]},proxy:!0}])},[o("b-form",{on:{keydown:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.submitForm()}}},[o("b-form-group",{attrs:{label:"Brand"}},[o("b-form-input",{attrs:{type:"text",placeholder:t.editing&&t.originalFood?.brand?t.originalFood.brand:"Purina",state:t.submitted?t.brandState:null},model:{value:t.formBrand,callback:function(o){t.formBrand=o},expression:"formBrand"}}),o("b-form-invalid-feedback",[t._v("Please enter a brand.")])],1),o("b-form-group",{attrs:{label:"Name"}},[o("b-form-input",{attrs:{type:"text",placeholder:t.editing&&t.originalFood?.name?t.originalFood.name:"Chicken & Liver",state:t.submitted?t.nameState:null},model:{value:t.formName,callback:function(o){t.formName=o},expression:"formName"}}),o("b-form-invalid-feedback",[t._v("Please enter a name.")])],1),o("b-form-group",{attrs:{label:"Size"}},[o("b-form-input",{attrs:{type:"text",placeholder:t.editing&&t.originalFood?.size?t.originalFood.size:"Small Can",state:t.submitted?t.sizeState:null},model:{value:t.formSize,callback:function(o){t.formSize=o},expression:"formSize"}}),o("b-form-invalid-feedback",[t._v("Please enter a size.")])],1),o("b-form-group",{attrs:{label:"Available"}},[o("b-form-input",{attrs:{type:"number",min:"0",state:t.submitted?t.countState:null},model:{value:t.formCount,callback:function(o){t.formCount=o},expression:"formCount"}}),o("b-form-invalid-feedback",[t._v("Please enter a positive number.")])],1)],1)],1)},_=[],x=r["default"].extend({name:"FoodPageForm",props:{editing:Boolean,foodItem:F},data(){return{formBrand:"",formName:"",formSize:"",formCount:0,submitted:!1}},computed:{brandState(){return null!==this.formBrand&&""!==this.formBrand},nameState(){return null!==this.formName&&""!==this.formName},sizeState(){return null!==this.formSize&&""!==this.formSize},countState(){return this.formCount>=0},state(){return this.brandState&&this.nameState&&this.sizeState&&this.countState},originalFood(){return this.foodItem}},watch:{editing(){this.refreshFields()},originalFood:{deep:!0,handler(){this.refreshFields()}}},methods:{show(){this.$bvModal.show("formModal")},submitForm(){if(this.submitted=!0,this.state){if(this.editing){const t=this.originalFood;t.brand=this.formBrand,t.name=this.formName,t.size=this.formSize,t.count=this.formCount,g.dispatch("foods/updateFood",t)}else g.dispatch("foods/addFood",new F(h,this.formBrand,this.formName,this.formSize,this.formCount));this.resetFields(),this.submitted=!1,this.$bvModal.hide("formModal"),this.$emit("done-form")}},resetFields(){this.formBrand="",this.formName="",this.formSize="",this.formCount=0},matchFieldsToFood(){this.formBrand=this.originalFood.brand,this.formName=this.originalFood.name,this.formSize=this.originalFood.size,this.formCount=this.originalFood.count},refreshFields(){this.editing?this.matchFieldsToFood():this.resetFields(),this.submitted=!1}}}),w=x,P=(0,i.Z)(w,y,_,!1,null,null,null),I=P.exports,N=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("b-container",[o("b-card",{attrs:{header:t.food.brand+" – "+t.food.name+" ("+t.food.size+")","header-text-variant":"light","header-bg-variant":"primary","header-border-variant":"primary","border-variant":"primary"}},[o("b-card-body",[o("b-row",{staticClass:"text-center",attrs:{"align-h":"between"}},[o("b-button",{attrs:{variant:"danger",disabled:t.food.count<=0},on:{click:function(o){return t.decrementStock(1)}}},[o("fa-icon",{attrs:{icon:"fa-solid fa-minus"}})],1),o("span",[t._v(t._s(t.food.count+" remaining"))]),o("b-button",{attrs:{variant:"success"},on:{click:function(o){return t.incrementStock(1)}}},[o("fa-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)],1)],1),o("b-card-footer",{attrs:{"footer-bg-variant":"white","footer-border-variant":"primary"}},[o("b-row",[o("b-button",{staticClass:"w-100",attrs:{id:t.updateStockBtnId,variant:"info"}},[o("span",[t._v("Stock")]),t._v("  "),o("fa-icon",{attrs:{icon:"fa-solid fa-cubes"}})],1),o("b-popover",{attrs:{id:t.updateStockPopoverId,target:t.updateStockBtnId,triggers:"click blur",placement:"bottom"},scopedSlots:t._u([{key:"title",fn:function(){return[o("span",[t._v("Update Stock")]),o("b-button",{staticClass:"close",attrs:{variant:"light","aria-label":"Close"},on:{click:function(o){return t.$root.$emit("bv::hide::popover",t.updateStockPopoverId)}}},[o("fa-icon",{attrs:{icon:"fa-solid fa-times"}})],1)]},proxy:!0}])},[o("b-form",[o("b-form-group",{attrs:{label:"Add","invalid-feedback":t.addStockInvalidFeedback}},[o("b-form-input",{attrs:{type:"number",min:"0",state:t.addStockState},model:{value:t.formAddStock,callback:function(o){t.formAddStock=o},expression:"formAddStock"}})],1),o("b-form-group",{attrs:{label:"Remove","invalid-feedback":t.removeStockInvalidFeedback}},[o("b-form-input",{attrs:{type:"number",min:"0",state:t.removeStockState},model:{value:t.formRemoveStock,callback:function(o){t.formRemoveStock=o},expression:"formRemoveStock"}})],1),o("b-button",{attrs:{variant:"secondary",disabled:!t.addStockState||!t.removeStockState},on:{click:function(o){return t.submitStockUpdate()}}},[t._v("Submit")])],1)],1)],1),o("b-row",{staticClass:"mt-1"},[o("b-button",{staticClass:"w-100",attrs:{variant:"secondary"},on:{click:function(o){return t.editFood()}}},[o("span",[t._v("Edit")]),t._v("  "),o("fa-icon",{attrs:{icon:"fa-solid fa-pen-to-square"}})],1)],1),o("b-row",{staticClass:"mt-1"},[o("b-button",{staticClass:"w-100",attrs:{variant:"danger"},on:{click:function(o){return t.deleteFood()}}},[o("span",[t._v("Delete")]),t._v("  "),o("fa-icon",{attrs:{icon:"fa-solid fa-trash"}})],1)],1)],1)],1)],1)},C=[],z=r["default"].extend({name:"FoodPageItem",props:{displayFood:F},data(){return{formAddStock:0,formRemoveStock:0}},computed:{food(){return this.displayFood},updateStockBtnId(){return this.food.id+"stockBtn"},updateStockPopoverId(){return this.food.id+"popover"},addStockState(){return this.formAddStock>=0},addStockInvalidFeedback(){return this.formAddStock<0?"Please enter a positive number.":""},removeStockState(){return this.formRemoveStock>=0&&this.updatedRemainingStock>=0},removeStockInvalidFeedback(){return this.formRemoveStock<0?"Please enter a positive number.":this.updatedRemainingStock<0?"Stock remaining cannot be negative.":""},updatedRemainingStock(){return Number(this.food.count)+Number(this.formAddStock)-Number(this.formRemoveStock)}},methods:{incrementStock(t){g.dispatch("foods/incrementStock",{id:this.food.id,add:t}),this.$forceUpdate()},decrementStock(t){g.dispatch("foods/decrementStock",{id:this.food.id,sub:t}),this.$forceUpdate()},editFood(){this.$emit("edit-food",this.food)},deleteFood(){this.$emit("delete-food",this.food.id)},submitStockUpdate(){this.incrementStock(this.formAddStock),this.decrementStock(this.formRemoveStock),this.formAddStock=0,this.formRemoveStock=0,this.$root.$emit("bv::hide::popover",this.updateStockPopoverId)}}}),B=z,O=(0,i.Z)(B,N,C,!1,null,null,null),$=O.exports,A=r["default"].extend({name:"FoodPage",components:{FoodPageForm:I,FoodPageItem:$},mounted(){g.dispatch("foods/init")},data(){return{currentFood:new F,editing:!1}},computed:{getFoodStock(){return g.state.foods.foodStock}},methods:{showFoodForm(){this.$bvModal.show("formModal")},editFood(t){this.currentFood=t,this.editing=!0,this.showFoodForm()},deleteFood(t){g.dispatch("foods/removeFood",t.id),this.$forceUpdate()}}}),R=A,M=(0,i.Z)(R,m,b,!1,null,null,null),Z=M.exports,L=r["default"].extend({name:"FoodView",components:{FoodPage:Z}}),j=L,T=(0,i.Z)(j,u,f,!1,null,null,null),U=T.exports;r["default"].use(l.ZP);const E=[{path:"/",name:"food",component:U}],J=new l.ZP({mode:"history",base:"/kitty-kibbles/",routes:E});var K=J,V=e(882),q=(e(24),e(749)),D=e(494),G=e(539);r["default"].config.productionTip=!1,r["default"].use(V.ZPm),r["default"].component("fa-icon",q.GN),D.vI.add(G.thV,G.r8p,G.Kl4,G.NBC,G.$aW,G.Yai,G.NkB),new r["default"]({router:K,store:g,render:t=>t(c)}).$mount("#app")}},o={};function e(r){var a=o[r];if(void 0!==a)return a.exports;var n=o[r]={exports:{}};return t[r](n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(o,r,a,n){if(!r){var i=1/0;for(l=0;l<t.length;l++){r=t[l][0],a=t[l][1],n=t[l][2];for(var d=!0,s=0;s<r.length;s++)(!1&n||i>=n)&&Object.keys(e.O).every((function(t){return e.O[t](r[s])}))?r.splice(s--,1):(d=!1,n<i&&(i=n));if(d){t.splice(l--,1);var c=a();void 0!==c&&(o=c)}}return o}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[r,a,n]}}(),function(){e.d=function(t,o){for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,r){var a,n,i=r[0],d=r[1],s=r[2],c=0;if(i.some((function(o){return 0!==t[o]}))){for(a in d)e.o(d,a)&&(e.m[a]=d[a]);if(s)var l=s(e)}for(o&&o(r);c<i.length;c++)n=i[c],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(l)},r=self["webpackChunkkitty_kibbles"]=self["webpackChunkkitty_kibbles"]||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(879)}));r=e.O(r)})();
//# sourceMappingURL=app.6fa749b9.js.map