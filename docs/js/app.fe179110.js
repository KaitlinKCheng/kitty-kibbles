(function(){"use strict";var o={214:function(o,t,e){var r=e(369),n=function(){var o=this,t=o._self._c;return t("b-container",{staticClass:"my-2",attrs:{id:"app"}},[t("b-navbar",{attrs:{type:"dark",variant:"primary"}},[t("b-navbar-nav",[t("b-navbar-brand",{attrs:{to:"/"}},[t("fa-icon",{attrs:{icon:"fa-solid fa-cat"}}),t("span",[o._v("Kitty Kibbles")])],1)],1)],1),t("router-view")],1)},a=[],i=e(1),d={},s=(0,i.Z)(d,n,a,!1,null,null,null),c=s.exports,l=e(631),u=function(){var o=this,t=o._self._c;o._self._setupProxy;return t("FoodPage")},f=[],m=function(){var o=this,t=o._self._c;o._self._setupProxy;return t("b-container",[t("b-col",{staticClass:"mt-3",attrs:{align:"center"}},[t("b-button",{attrs:{variant:"secondary",size:"lg"},on:{click:function(t){return o.showFoodForm()}}},[t("span",[o._v("Add New Food")]),o._v("  "),t("fa-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)],1),t("b-row",{attrs:{cols:"1","cols-sm":"2","cols-lg":"3","align-h":"center"}},o._l(o.getFoodStock.values(),(function(e){return t("b-col",{key:e.id+e.brand+e.name+e.size+e.count,staticClass:"my-3"},[t("FoodPageItem",{attrs:{"display-food":e},on:{"edit-food":function(t){return o.editFood(e)},"delete-food":function(t){return o.deleteFood(e)}}})],1)})),1),t("FoodPageForm",{attrs:{"food-item":o.currentFood,editing:o.editing},on:{"done-form":function(t){o.$forceUpdate(),o.editing=!1}}})],1)},p=[],h=e(822);const b="-1",g="foodStock",F="nextFoodId";var v={namespaced:!0,state:()=>({foodStock:new Map,nextFoodId:0}),getters:{foodStock:o=>()=>o.foodStock},mutations:{setFoodStock(o,t){o.foodStock=t},setNextFoodId(o,t){o.nextFoodId=t},addFood(o,t){o.foodStock.set(t.key,t.value)},removeFood(o,t){o.foodStock.delete(t)}},actions:{init(o){const t=localStorage.getItem(g);null!==t&&o.commit("setFoodStock",new Map(JSON.parse(t)));const e=localStorage.getItem(F);null!==e&&o.commit("setNextFoodId",JSON.parse(e))},addFood(o,t){let e=!1;return t.id===b&&(t.id=o.state.nextFoodId.toString(),o.state.nextFoodId++,o.dispatch("updateLocalStorageFoodId")),o.state.foodStock.has(t.id)||(o.commit("addFood",{key:t.id,value:t}),o.dispatch("updateLocalStorageFoodStock"),e=!0),e},updateFood(o,t){let e=!1;return o.state.foodStock.has(t.id)&&(o.commit("addFood",{key:t.id,value:t}),o.dispatch("updateLocalStorageFoodStock"),e=!0),e},removeFood(o,t){let e=!1;return o.state.foodStock.has(t)&&(o.commit("removeFood",t),o.dispatch("updateLocalStorageFoodStock"),e=!0),e},incrementStock(o,t){const e=o.state.foodStock.get(t.id);void 0!==e&&(e.count=Number(e.count)+Number(t.add)),o.dispatch("updateLocalStorageFoodStock")},decrementStock(o,t){const e=o.state.foodStock.get(t.id);void 0!==e&&(e.count=Number(e.count)-Number(t.sub)),o.dispatch("updateLocalStorageFoodStock")},updateLocalStorageFoodStock(o){localStorage.setItem(g,JSON.stringify([...o.state.foodStock]))},updateLocalStorageFoodId(o){localStorage.setItem(F,JSON.stringify(o.state.nextFoodId))}}};r["default"].use(h.ZP);var S=new h.ZP.Store({modules:{foods:v}});class k{id;brand;name;size;count;constructor(o=b,t="Brand",e="Name",r="Size",n=0){this.id=o,this.brand=t,this.name=e,this.size=r,this.count=n}}var y=function(){var o=this,t=o._self._c;o._self._setupProxy;return t("b-modal",{attrs:{id:"formModal",title:o.editing?"Edit Food":"Add New Food"},scopedSlots:o._u([{key:"modal-footer",fn:function({ok:e}){return[t("b-button",{attrs:{variant:"secondary",disabled:!o.state},on:{click:function(t){o.submitForm(),e()}}},[o._v("Submit")])]}}])},[t("b-form",[t("b-form-group",{attrs:{label:"Brand"}},[t("b-form-input",{attrs:{type:"text",placeholder:o.editing&&o.originalFood?.brand?o.originalFood.brand:"Purina"},model:{value:o.formBrand,callback:function(t){o.formBrand=t},expression:"formBrand"}})],1),t("b-form-group",{attrs:{label:"Name"}},[t("b-form-input",{attrs:{type:"text",placeholder:o.editing&&o.originalFood?.name?o.originalFood.name:"Chicken & Liver"},model:{value:o.formName,callback:function(t){o.formName=t},expression:"formName"}})],1),t("b-form-group",{attrs:{label:"Size"}},[t("b-form-input",{attrs:{type:"text",placeholder:o.editing&&o.originalFood?.size?o.originalFood.size:"Small Can"},model:{value:o.formSize,callback:function(t){o.formSize=t},expression:"formSize"}})],1),t("b-form-group",{attrs:{label:"Available"}},[t("b-form-input",{attrs:{type:"number",min:"0"},model:{value:o.formCount,callback:function(t){o.formCount=t},expression:"formCount"}})],1)],1)],1)},_=[],x=r["default"].extend({name:"FoodPageForm",props:{editing:Boolean,foodItem:k},data(){return{formBrand:"",formName:"",formSize:"",formCount:0}},computed:{brandState(){return null!==this.formBrand&&""!==this.formBrand},nameState(){return null!==this.formName&&""!==this.formName},sizeState(){return null!==this.formSize&&""!==this.formSize},state(){return this.brandState&&this.nameState&&this.sizeState},originalFood(){return this.foodItem}},watch:{originalFood(o){this.editing&&(this.formBrand=o?.brand,this.formName=o?.name,this.formSize=o?.size,this.formCount=o?.count)}},methods:{show(){this.$bvModal.show("formModal")},submitForm(){if(this.editing){const o=this.originalFood;o.brand=this.formBrand,o.name=this.formName,o.size=this.formSize,o.count=this.formCount,S.dispatch("foods/updateFood",o)}else S.dispatch("foods/addFood",new k(b,this.formBrand,this.formName,this.formSize,this.formCount));this.clearForm(),this.$emit("done-form")},clearForm(){this.formBrand="",this.formName="",this.formSize="",this.formCount=0}}}),w=x,N=(0,i.Z)(w,y,_,!1,null,null,null),z=N.exports,P=function(){var o=this,t=o._self._c;o._self._setupProxy;return t("b-container",[t("b-card",{staticClass:"card",attrs:{header:o.food.brand+" – "+o.food.name,"header-text-variant":"light","header-bg-variant":"primary","header-border-variant":"primary","border-variant":"primary"}},[t("b-card-body",[t("b-row",{staticClass:"text-center",attrs:{"align-h":"between"}},[t("b-button",{attrs:{variant:"danger",disabled:o.food.count<=0},on:{click:function(t){return o.decrementStock()}}},[t("fa-icon",{attrs:{icon:"fa-solid fa-minus"}})],1),t("b-row",{staticClass:"flex-column"},[t("b-col",{attrs:{"align-self":"center"}},[t("span",[o._v(o._s(o.food.size))])]),t("b-col",{attrs:{"align-self":"center"}},[t("span",[o._v(o._s(o.food.count+" remaining"))])])],1),t("b-button",{attrs:{variant:"success"},on:{click:function(t){return o.incrementStock()}}},[t("fa-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)],1)],1),t("b-card-footer",{attrs:{"footer-bg-variant":"white","footer-border-variant":"primary"}},[t("b-row",[t("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return o.editFood()}}},[t("span",[o._v("Edit")]),o._v("  "),t("fa-icon",{attrs:{icon:"fa-solid fa-pen-to-square"}})],1),t("b-button",{staticClass:"ml-2",attrs:{variant:"danger"},on:{click:function(t){return o.deleteFood()}}},[t("span",[o._v("Delete")]),o._v("  "),t("fa-icon",{attrs:{icon:"fa-solid fa-trash"}})],1)],1)],1)],1)],1)},I=[],C=r["default"].extend({name:"FoodPageItem",props:{displayFood:k},computed:{food(){return this.displayFood}},methods:{incrementStock(){S.dispatch("foods/incrementStock",{id:this.food.id,add:1}),this.$forceUpdate()},decrementStock(){S.dispatch("foods/decrementStock",{id:this.food.id,sub:1}),this.$forceUpdate()},editFood(){this.$emit("edit-food",this.food)},deleteFood(){this.$emit("delete-food",this.food.id)}}}),O=C,B=(0,i.Z)(O,P,I,!1,null,null,null),$=B.exports,Z=r["default"].extend({name:"FoodPage",components:{FoodPageForm:z,FoodPageItem:$},mounted(){S.dispatch("foods/init")},data(){return{currentFood:new k,editing:!1}},computed:{getFoodStock(){return S.state.foods.foodStock}},methods:{showFoodForm(){this.$bvModal.show("formModal")},editFood(o){this.currentFood=o,this.editing=!0,this.showFoodForm()},deleteFood(o){S.dispatch("foods/removeFood",o.id),this.$forceUpdate()}}}),L=Z,M=(0,i.Z)(L,m,p,!1,null,null,null),j=M.exports,T=r["default"].extend({name:"FoodView",components:{FoodPage:j}}),J=T,U=(0,i.Z)(J,u,f,!1,null,null,null),A=U.exports;r["default"].use(l.ZP);const E=[{path:"/",name:"food",component:A}],K=new l.ZP({mode:"history",base:"/kitty-kibbles/",routes:E});var V=K,q=e(882),D=(e(24),e(749)),G=e(494),W=e(539);r["default"].config.productionTip=!1,r["default"].use(q.ZPm),r["default"].component("fa-icon",D.GN),G.vI.add(W.thV,W.r8p,W.Kl4,W.$aW,W.Yai),new r["default"]({router:V,store:S,render:o=>o(c)}).$mount("#app")}},t={};function e(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return o[r](a,a.exports,e),a.exports}e.m=o,function(){var o=[];e.O=function(t,r,n,a){if(!r){var i=1/0;for(l=0;l<o.length;l++){r=o[l][0],n=o[l][1],a=o[l][2];for(var d=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(e.O).every((function(o){return e.O[o](r[s])}))?r.splice(s--,1):(d=!1,a<i&&(i=a));if(d){o.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var l=o.length;l>0&&o[l-1][2]>a;l--)o[l]=o[l-1];o[l]=[r,n,a]}}(),function(){e.d=function(o,t){for(var r in t)e.o(t,r)&&!e.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:t[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}}(),function(){e.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){var o={143:0};e.O.j=function(t){return 0===o[t]};var t=function(t,r){var n,a,i=r[0],d=r[1],s=r[2],c=0;if(i.some((function(t){return 0!==o[t]}))){for(n in d)e.o(d,n)&&(e.m[n]=d[n]);if(s)var l=s(e)}for(t&&t(r);c<i.length;c++)a=i[c],e.o(o,a)&&o[a]&&o[a][0](),o[a]=0;return e.O(l)},r=self["webpackChunkkitty_kibbles"]=self["webpackChunkkitty_kibbles"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(214)}));r=e.O(r)})();
//# sourceMappingURL=app.fe179110.js.map