(function(){"use strict";var t={60:function(t,o,e){var r=e(369),n=function(){var t=this,o=t._self._c;return o("b-container",{staticClass:"my-2",attrs:{id:"app"}},[o("b-navbar",{attrs:{type:"dark",variant:"primary"}},[o("b-navbar-nav",[o("b-navbar-brand",{attrs:{to:"/"}},[o("fa-icon",{attrs:{icon:"fa-solid fa-cat"}}),o("span",[t._v("Kitty Kibbles")])],1)],1)],1),o("router-view")],1)},a=[],i=e(1),d={},s=(0,i.Z)(d,n,a,!1,null,null,null),l=s.exports,c=e(631),u=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("FoodPage")},f=[],m=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("b-container",[o("b-col",{staticClass:"mt-3",attrs:{align:"center"}},[o("b-button",{attrs:{variant:"secondary",size:"lg"},on:{click:function(o){t.editing=!1,t.showFoodForm()}}},[o("span",[t._v("Add New Food")]),t._v("  "),o("fa-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)],1),o("b-row",{attrs:{cols:"1","cols-sm":"2","cols-lg":"3","align-h":"center"}},t._l(t.getFoodStock.values(),(function(e){return o("b-col",{key:e.id+e.brand+e.name+e.size+e.count,staticClass:"my-3"},[o("FoodPageItem",{attrs:{"display-food":e},on:{"edit-food":function(o){return t.editFood(e)},"delete-food":function(o){return t.deleteFood(e)}}})],1)})),1),o("FoodPageForm",{attrs:{"food-item":t.currentFood,editing:t.editing},on:{"done-form":function(o){t.$forceUpdate(),t.editing=!1}}})],1)},h=[],b=e(822);const p="-1",F="foodStock",g="nextFoodId";var v={namespaced:!0,state:()=>({foodStock:new Map,nextFoodId:0}),getters:{foodStock:t=>()=>t.foodStock},mutations:{setFoodStock(t,o){t.foodStock=o},setNextFoodId(t,o){t.nextFoodId=o},addFood(t,o){t.foodStock.set(o.key,o.value)},removeFood(t,o){t.foodStock.delete(o)}},actions:{init(t){const o=localStorage.getItem(F);null!==o&&t.commit("setFoodStock",new Map(JSON.parse(o)));const e=localStorage.getItem(g);null!==e&&t.commit("setNextFoodId",JSON.parse(e))},addFood(t,o){let e=!1;return o.id===p&&(o.id=t.state.nextFoodId.toString(),t.state.nextFoodId++,t.dispatch("updateLocalStorageFoodId")),t.state.foodStock.has(o.id)||(t.commit("addFood",{key:o.id,value:o}),t.dispatch("updateLocalStorageFoodStock"),e=!0),e},updateFood(t,o){let e=!1;return t.state.foodStock.has(o.id)&&(t.commit("addFood",{key:o.id,value:o}),t.dispatch("updateLocalStorageFoodStock"),e=!0),e},removeFood(t,o){let e=!1;return t.state.foodStock.has(o)&&(t.commit("removeFood",o),t.dispatch("updateLocalStorageFoodStock"),e=!0),e},incrementStock(t,o){const e=t.state.foodStock.get(o.id);void 0!==e&&(e.count=Number(e.count)+Number(o.add)),t.dispatch("updateLocalStorageFoodStock")},decrementStock(t,o){const e=t.state.foodStock.get(o.id);void 0!==e&&(e.count=Number(e.count)-Number(o.sub)),t.dispatch("updateLocalStorageFoodStock")},updateLocalStorageFoodStock(t){localStorage.setItem(F,JSON.stringify([...t.state.foodStock]))},updateLocalStorageFoodId(t){localStorage.setItem(g,JSON.stringify(t.state.nextFoodId))}}};r["default"].use(b.ZP);var S=new b.ZP.Store({modules:{foods:v}});class k{id;brand;name;size;count;constructor(t=p,o="Brand",e="Name",r="Size",n=0){this.id=t,this.brand=o,this.name=e,this.size=r,this.count=n}}var y=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("b-modal",{attrs:{id:"formModal",title:t.editing?"Edit Food":"Add New Food"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[o("b-button",{attrs:{variant:"secondary"},on:{click:function(o){return t.submitForm()}}},[t._v("Submit")])]},proxy:!0}])},[o("b-form",{on:{keydown:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.submitForm()}}},[o("b-form-group",{attrs:{label:"Brand"}},[o("b-form-input",{attrs:{type:"text",placeholder:t.editing&&t.originalFood?.brand?t.originalFood.brand:"Purina",state:t.submitted?t.brandState:null},model:{value:t.formBrand,callback:function(o){t.formBrand=o},expression:"formBrand"}}),o("b-form-invalid-feedback",[t._v("Please enter a brand.")])],1),o("b-form-group",{attrs:{label:"Name"}},[o("b-form-input",{attrs:{type:"text",placeholder:t.editing&&t.originalFood?.name?t.originalFood.name:"Chicken & Liver",state:t.submitted?t.nameState:null},model:{value:t.formName,callback:function(o){t.formName=o},expression:"formName"}}),o("b-form-invalid-feedback",[t._v("Please enter a name.")])],1),o("b-form-group",{attrs:{label:"Size"}},[o("b-form-input",{attrs:{type:"text",placeholder:t.editing&&t.originalFood?.size?t.originalFood.size:"Small Can",state:t.submitted?t.sizeState:null},model:{value:t.formSize,callback:function(o){t.formSize=o},expression:"formSize"}}),o("b-form-invalid-feedback",[t._v("Please enter a size.")])],1),o("b-form-group",{attrs:{label:"Available"}},[o("b-form-input",{attrs:{type:"number",min:"0",state:t.submitted?t.countState:null},model:{value:t.formCount,callback:function(o){t.formCount=o},expression:"formCount"}}),o("b-form-invalid-feedback",[t._v("Please enter a positive number.")])],1)],1)],1)},_=[],x=r["default"].extend({name:"FoodPageForm",props:{editing:Boolean,foodItem:k},data(){return{formBrand:"",formName:"",formSize:"",formCount:0,submitted:!1}},computed:{brandState(){return null!==this.formBrand&&""!==this.formBrand},nameState(){return null!==this.formName&&""!==this.formName},sizeState(){return null!==this.formSize&&""!==this.formSize},countState(){return this.formCount>=0},state(){return this.brandState&&this.nameState&&this.sizeState&&this.countState},originalFood(){return this.foodItem}},watch:{editing(){this.refreshFields()},originalFood:{deep:!0,handler(){this.refreshFields()}}},methods:{show(){this.$bvModal.show("formModal")},submitForm(){if(this.submitted=!0,this.state){if(this.editing){const t=this.originalFood;t.brand=this.formBrand,t.name=this.formName,t.size=this.formSize,t.count=this.formCount,S.dispatch("foods/updateFood",t)}else S.dispatch("foods/addFood",new k(p,this.formBrand,this.formName,this.formSize,this.formCount));this.resetFields(),this.submitted=!1,this.$bvModal.hide("formModal"),this.$emit("done-form")}},resetFields(){this.formBrand="",this.formName="",this.formSize="",this.formCount=0},matchFieldsToFood(){this.formBrand=this.originalFood.brand,this.formName=this.originalFood.name,this.formSize=this.originalFood.size,this.formCount=this.originalFood.count},refreshFields(){this.editing?this.matchFieldsToFood():this.resetFields(),this.submitted=!1}}}),w=x,P=(0,i.Z)(w,y,_,!1,null,null,null),z=P.exports,N=function(){var t=this,o=t._self._c;t._self._setupProxy;return o("b-container",[o("b-card",{staticClass:"card",attrs:{header:t.food.brand+" – "+t.food.name,"header-text-variant":"light","header-bg-variant":"primary","header-border-variant":"primary","border-variant":"primary"}},[o("b-card-body",[o("b-row",{staticClass:"text-center",attrs:{"align-h":"between"}},[o("b-button",{attrs:{variant:"danger",disabled:t.food.count<=0},on:{click:function(o){return t.decrementStock()}}},[o("fa-icon",{attrs:{icon:"fa-solid fa-minus"}})],1),o("b-row",{staticClass:"flex-column"},[o("b-col",{attrs:{"align-self":"center"}},[o("span",[t._v(t._s(t.food.size))])]),o("b-col",{attrs:{"align-self":"center"}},[o("span",[t._v(t._s(t.food.count+" remaining"))])])],1),o("b-button",{attrs:{variant:"success"},on:{click:function(o){return t.incrementStock()}}},[o("fa-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)],1)],1),o("b-card-footer",{attrs:{"footer-bg-variant":"white","footer-border-variant":"primary"}},[o("b-row",[o("b-button",{attrs:{variant:"secondary"},on:{click:function(o){return t.editFood()}}},[o("span",[t._v("Edit")]),t._v("  "),o("fa-icon",{attrs:{icon:"fa-solid fa-pen-to-square"}})],1),o("b-button",{staticClass:"ml-2",attrs:{variant:"danger"},on:{click:function(o){return t.deleteFood()}}},[o("span",[t._v("Delete")]),t._v("  "),o("fa-icon",{attrs:{icon:"fa-solid fa-trash"}})],1)],1)],1)],1)],1)},C=[],I=r["default"].extend({name:"FoodPageItem",props:{displayFood:k},computed:{food(){return this.displayFood}},methods:{incrementStock(){S.dispatch("foods/incrementStock",{id:this.food.id,add:1}),this.$forceUpdate()},decrementStock(){S.dispatch("foods/decrementStock",{id:this.food.id,sub:1}),this.$forceUpdate()},editFood(){this.$emit("edit-food",this.food)},deleteFood(){this.$emit("delete-food",this.food.id)}}}),O=I,B=(0,i.Z)(O,N,C,!1,null,null,null),$=B.exports,M=r["default"].extend({name:"FoodPage",components:{FoodPageForm:z,FoodPageItem:$},mounted(){S.dispatch("foods/init")},data(){return{currentFood:new k,editing:!1}},computed:{getFoodStock(){return S.state.foods.foodStock}},methods:{showFoodForm(){this.$bvModal.show("formModal")},editFood(t){this.currentFood=t,this.editing=!0,this.showFoodForm()},deleteFood(t){S.dispatch("foods/removeFood",t.id),this.$forceUpdate()}}}),Z=M,L=(0,i.Z)(Z,m,h,!1,null,null,null),j=L.exports,T=r["default"].extend({name:"FoodView",components:{FoodPage:j}}),E=T,J=(0,i.Z)(E,u,f,!1,null,null,null),U=J.exports;r["default"].use(c.ZP);const A=[{path:"/",name:"food",component:U}],K=new c.ZP({mode:"history",base:"/kitty-kibbles/",routes:A});var V=K,q=e(882),D=(e(24),e(749)),G=e(494),W=e(539);r["default"].config.productionTip=!1,r["default"].use(q.ZPm),r["default"].component("fa-icon",D.GN),G.vI.add(W.thV,W.r8p,W.Kl4,W.$aW,W.Yai),new r["default"]({router:V,store:S,render:t=>t(l)}).$mount("#app")}},o={};function e(r){var n=o[r];if(void 0!==n)return n.exports;var a=o[r]={exports:{}};return t[r](a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(o,r,n,a){if(!r){var i=1/0;for(c=0;c<t.length;c++){r=t[c][0],n=t[c][1],a=t[c][2];for(var d=!0,s=0;s<r.length;s++)(!1&a||i>=a)&&Object.keys(e.O).every((function(t){return e.O[t](r[s])}))?r.splice(s--,1):(d=!1,a<i&&(i=a));if(d){t.splice(c--,1);var l=n();void 0!==l&&(o=l)}}return o}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,n,a]}}(),function(){e.d=function(t,o){for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,r){var n,a,i=r[0],d=r[1],s=r[2],l=0;if(i.some((function(o){return 0!==t[o]}))){for(n in d)e.o(d,n)&&(e.m[n]=d[n]);if(s)var c=s(e)}for(o&&o(r);l<i.length;l++)a=i[l],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(c)},r=self["webpackChunkkitty_kibbles"]=self["webpackChunkkitty_kibbles"]||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(60)}));r=e.O(r)})();
//# sourceMappingURL=app.98d5722a.js.map